var suggestions=document.getElementById("suggestions"),search=document.getElementById("search");search!==null&&document.addEventListener("keydown",inputFocus);function inputFocus(e){e.ctrlKey&&e.key==="/"&&(e.preventDefault(),search.focus()),e.key==="Escape"&&(search.blur(),suggestions.classList.add("d-none"))}document.addEventListener("click",function(e){var t=suggestions.contains(e.target);t||suggestions.classList.add("d-none")}),document.addEventListener("keydown",suggestionFocus);function suggestionFocus(e){const s=suggestions.classList.contains("d-none");if(s)return;const t=[...suggestions.querySelectorAll("a")];if(t.length===0)return;const n=t.indexOf(document.activeElement);if(e.key==="ArrowUp"){e.preventDefault();const s=n>0?n-1:0;t[s].focus()}else if(e.key==="ArrowDown"){e.preventDefault();const s=n+1<t.length?n+1:n;t[s].focus()}}(function(){var e=new FlexSearch.Document({tokenize:"forward",cache:100,document:{id:"id",store:["href","title","description"],index:["title","description","content"]}});e.add({id:0,href:"/docs/guide/intro/",title:"ç®€ä»‹",description:`olive æ˜¯ä¸€æ¬¾å¼ºå¤§çš„ç›´æ’­å½•åˆ¶å¼•æ“Žã€‚å®ƒä¼šæ—¶åˆ»ç›‘æŽ§ç€ä¸»æ’­çš„ç›´æ’­çŠ¶æ€ï¼Œå¹¶åœ¨ä¸»æ’­ä¸Šçº¿æ—¶è‡ªåŠ¨å¼€å¯å½•åˆ¶ã€‚å¸®åŠ©æ‚¨æ•æ‰åˆ°æ¯ä¸€åœºç›´æ’­å†…å®¹ã€‚
å¦‚æžœæ‚¨æœ‰æ–°çš„åŠŸèƒ½ç‰¹æ€§è¦æ”¯æŒæˆ–å‘çŽ°äº† bugï¼Œè¯·åŽ»å¾€ issues æ¿å—ã€‚å¦‚æžœæ‚¨æœ‰ä»€ä¹ˆé—®é¢˜æˆ–æƒ³æ³•ï¼Œè¯·åŽ»å¾€ discussions æ¿å—ã€‚`,content:`olive æ˜¯ä¸€æ¬¾å¼ºå¤§çš„ç›´æ’­å½•åˆ¶å¼•æ“Žã€‚å®ƒä¼šæ—¶åˆ»ç›‘æŽ§ç€ä¸»æ’­çš„ç›´æ’­çŠ¶æ€ï¼Œå¹¶åœ¨ä¸»æ’­ä¸Šçº¿æ—¶è‡ªåŠ¨å¼€å¯å½•åˆ¶ã€‚å¸®åŠ©æ‚¨æ•æ‰åˆ°æ¯ä¸€åœºç›´æ’­å†…å®¹ã€‚
å¦‚æžœæ‚¨æœ‰æ–°çš„åŠŸèƒ½ç‰¹æ€§è¦æ”¯æŒæˆ–å‘çŽ°äº† bugï¼Œè¯·åŽ»å¾€ issues æ¿å—ã€‚å¦‚æžœæ‚¨æœ‰ä»€ä¹ˆé—®é¢˜æˆ–æƒ³æ³•ï¼Œè¯·åŽ»å¾€ discussions æ¿å—ã€‚
`}),e.add({id:1,href:"/docs/guide/usage/",title:"å®‰è£…ä½¿ç”¨",description:`å®‰è£…éƒ¨ç½² # æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹ 3 ç§æ–¹å¼ä¸­çš„ä»»æ„ä¸€ç§æ¥å®‰è£… oliveï¼š
æºç å®‰è£…
go install github.com/go-olive/olive@latest äºŒè¿›åˆ¶å®‰è£…
docker é•œåƒ
docker pull luxcgo/olive@latest å¿«é€Ÿå¼€å§‹ # åªéœ€è¦ä¼ å…¥ç›´æ’­é—´ç½‘å€å°±å¯ä»¥è®© olive å¼€å§‹å·¥ä½œã€‚
olive run -u https://www.huya.com/518512 è¿›é˜¶ä½¿ç”¨ # å‘½ä»¤è¡Œç‰ˆæœ¬ # é€šè¿‡ä½¿ç”¨é…ç½®æ–‡ä»¶å¯åŠ¨ olive , è¯¥æ–‡ä»¶ä¸ºæ‚¨æä¾›äº†æ›´å¤šçš„é€‰é¡¹ã€‚
æ¨¡æ¿æ–‡ä»¶å‚è€ƒ: config.toml
olive run -f /path/to/config.toml /path/to/config.toml æŒ‡çš„æ˜¯config.tomlé…ç½®æ–‡ä»¶çš„ç»å¯¹è·¯å¾„
dockerç‰ˆæœ¬ # docker-compose.yaml ä¾‹å­å¦‚ä¸‹ï¼š
version: \u0026quot;3.8\u0026quot; services: olive: image: luxcgo/olive:latest container_name: olive-run command: [ \u0026quot;./olive\u0026quot;, \u0026quot;run\u0026quot;, \u0026quot;-f\u0026quot;, \u0026quot;/config/config.toml\u0026quot;, ] volumes: - \u0026quot;/etc/timezone:/etc/timezone:ro\u0026quot; - \u0026quot;/etc/localtime:/etc/localtime:ro\u0026quot; - ./downloads:/downloads:Z - ./config:/config:Z å¸®åŠ©åŠŸèƒ½ # å¦‚æžœæœ‰ä»»ä½•ä¸æ‡‚å¾—å‘½ä»¤ï¼Œéƒ½å¯ä»¥æ‰§è¡Œhelpå‘½ä»¤èŽ·å¾—å¸®åŠ©ï¼ŒðŸŒ° å¦‚ä¸‹`,content:`å®‰è£…éƒ¨ç½² # æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹ 3 ç§æ–¹å¼ä¸­çš„ä»»æ„ä¸€ç§æ¥å®‰è£… oliveï¼š
æºç å®‰è£…
go install github.com/go-olive/olive@latest äºŒè¿›åˆ¶å®‰è£…
docker é•œåƒ
docker pull luxcgo/olive@latest å¿«é€Ÿå¼€å§‹ # åªéœ€è¦ä¼ å…¥ç›´æ’­é—´ç½‘å€å°±å¯ä»¥è®© olive å¼€å§‹å·¥ä½œã€‚
olive run -u https://www.huya.com/518512 è¿›é˜¶ä½¿ç”¨ # å‘½ä»¤è¡Œç‰ˆæœ¬ # é€šè¿‡ä½¿ç”¨é…ç½®æ–‡ä»¶å¯åŠ¨ olive , è¯¥æ–‡ä»¶ä¸ºæ‚¨æä¾›äº†æ›´å¤šçš„é€‰é¡¹ã€‚
æ¨¡æ¿æ–‡ä»¶å‚è€ƒ: config.toml
olive run -f /path/to/config.toml /path/to/config.toml æŒ‡çš„æ˜¯config.tomlé…ç½®æ–‡ä»¶çš„ç»å¯¹è·¯å¾„
dockerç‰ˆæœ¬ # docker-compose.yaml ä¾‹å­å¦‚ä¸‹ï¼š
version: \u0026quot;3.8\u0026quot; services: olive: image: luxcgo/olive:latest container_name: olive-run command: [ \u0026quot;./olive\u0026quot;, \u0026quot;run\u0026quot;, \u0026quot;-f\u0026quot;, \u0026quot;/config/config.toml\u0026quot;, ] volumes: - \u0026quot;/etc/timezone:/etc/timezone:ro\u0026quot; - \u0026quot;/etc/localtime:/etc/localtime:ro\u0026quot; - ./downloads:/downloads:Z - ./config:/config:Z å¸®åŠ©åŠŸèƒ½ # å¦‚æžœæœ‰ä»»ä½•ä¸æ‡‚å¾—å‘½ä»¤ï¼Œéƒ½å¯ä»¥æ‰§è¡Œhelpå‘½ä»¤èŽ·å¾—å¸®åŠ©ï¼ŒðŸŒ° å¦‚ä¸‹
olive help olive help run `}),e.add({id:2,href:"/docs/guide/web/",title:"ç½‘é¡µç«¯",description:`demo ç½‘ç«™ï¼šåªä½œä¸ºæ ·ä¾‹æ¼”ç¤ºï¼Œè¯·åŠ¡å¿…ä¸è¦ä¿®æ”¹è´¦å·å¯†ç 
é™¤äº†ä»¥åŽç«¯æœåŠ¡çš„æ–¹å¼è¿è¡Œï¼Œæ‚¨è¿˜å¯ä»¥éƒ¨ç½²ç½‘é¡µç«¯çš„æœåŠ¡ã€‚
è¯¥æœåŠ¡å·²æ‰“åŒ…æˆdocker é•œåƒ
# ä¿å­˜ä»¥ä¸‹å†…å®¹ä¸ºæœ¬åœ°æ–‡ä»¶ï¼Œæ–‡ä»¶å\`docker-compose.yaml\` # å¹¶æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ docker-compose up -d olive-db docker-compose up -d olive-server docker-compose up -d olive-portal version: \u0026quot;3.8\u0026quot; services: olive-db: image: postgres:14-alpine container_name: olive-db restart: always ports: - 127.0.0.1:5432:5432 environment: POSTGRES_USER: postgres POSTGRES_PASSWORD: postgres volumes: - ./pgdata:/var/lib/postgresql/data networks: - olive-network olive-server: image: luxcgo/olive:latest container_name: olive-server depends_on: - olive-db ports: - 127.0.0.1:3000:3000 - 127.0.0.1:4000:4000 command: [ \u0026quot;./olive\u0026quot;, \u0026quot;server\u0026quot;, \u0026quot;--db-host\u0026quot;, \u0026quot;olive-db:5432\u0026quot;, \u0026quot;-l\u0026quot;, \u0026quot;/downloads\u0026quot;, \u0026quot;-s\u0026quot;, \u0026quot;/downloads\u0026quot; ] volumes: - \u0026quot;/etc/timezone:/etc/timezone:ro\u0026quot; - \u0026quot;/etc/localtime:/etc/localtime:ro\u0026quot; - .`,content:` demo ç½‘ç«™ï¼šåªä½œä¸ºæ ·ä¾‹æ¼”ç¤ºï¼Œè¯·åŠ¡å¿…ä¸è¦ä¿®æ”¹è´¦å·å¯†ç 
é™¤äº†ä»¥åŽç«¯æœåŠ¡çš„æ–¹å¼è¿è¡Œï¼Œæ‚¨è¿˜å¯ä»¥éƒ¨ç½²ç½‘é¡µç«¯çš„æœåŠ¡ã€‚
è¯¥æœåŠ¡å·²æ‰“åŒ…æˆdocker é•œåƒ
# ä¿å­˜ä»¥ä¸‹å†…å®¹ä¸ºæœ¬åœ°æ–‡ä»¶ï¼Œæ–‡ä»¶å\`docker-compose.yaml\` # å¹¶æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ docker-compose up -d olive-db docker-compose up -d olive-server docker-compose up -d olive-portal version: \u0026quot;3.8\u0026quot; services: olive-db: image: postgres:14-alpine container_name: olive-db restart: always ports: - 127.0.0.1:5432:5432 environment: POSTGRES_USER: postgres POSTGRES_PASSWORD: postgres volumes: - ./pgdata:/var/lib/postgresql/data networks: - olive-network olive-server: image: luxcgo/olive:latest container_name: olive-server depends_on: - olive-db ports: - 127.0.0.1:3000:3000 - 127.0.0.1:4000:4000 command: [ \u0026quot;./olive\u0026quot;, \u0026quot;server\u0026quot;, \u0026quot;--db-host\u0026quot;, \u0026quot;olive-db:5432\u0026quot;, \u0026quot;-l\u0026quot;, \u0026quot;/downloads\u0026quot;, \u0026quot;-s\u0026quot;, \u0026quot;/downloads\u0026quot; ] volumes: - \u0026quot;/etc/timezone:/etc/timezone:ro\u0026quot; - \u0026quot;/etc/localtime:/etc/localtime:ro\u0026quot; - ./downloads:/downloads - ./config:/config networks: - olive-network olive-portal: image: luxcgo/olive-portal:latest container_name: olive-portal depends_on: - olive-server ports: - \u0026quot;8080:8080\u0026quot; volumes: - ./config/default.conf:/etc/nginx/conf.d/default.conf networks: - olive-network networks: olive-network: `}),e.add({id:3,href:"/docs/guide/config/",title:"é…ç½®æ–‡ä»¶",description:`è¯¦è§£ # æœ€å°é…ç½®é¡¹ # åªéœ€è¦å¡«å†™è¿™å‡ ä¸ªé…ç½®é¡¹ï¼Œå°±å¯ä»¥å¼€å§‹å¯¹ä¸€ä¸ªç›´æ’­é—´è¿›è¡Œå½•åˆ¶äº†ã€‚
[[Shows]] # å…¨å±€å”¯ä¸€å­—ç¬¦ä¸²ï¼Œå› ä¸ºé…ç½®ä¿®æ”¹ä¼šå®žæ—¶ç›‘æŽ§å®žæ—¶æ›´æ–°ï¼Œæ•…ä»¥æ­¤ ID ä½œä¸ºæ ‡è¯†è¿™ä¸€ä¸ªå½•åˆ¶çš„é…ç½®é¡¹ ID = 'a' # å¹³å°åç§° Platform = \u0026quot;bilibili\u0026quot; # æˆ¿é—´å· RoomID = \u0026quot;21852\u0026quot; # ä¸»æ’­åç§° StreamerName = \u0026quot;old-tomato\u0026quot; å®šåˆ¶æ–‡ä»¶åç§° # æ–°å¢žé…ç½®é¡¹ OutTmpl
æ—¥æœŸ: {{ now | date \\\u0026quot;2006-01-02 15-04-05\\\u0026quot;}}
ä¸»æ’­åç§°: {{ .StreamerName }}
ç›´æ’­æ ‡é¢˜: {{ .RoomName }}
ç›´æ’­å¹³å°: {{ .SiteName }}
[[Shows]] ID = 'a' Platform = \u0026quot;bilibili\u0026quot; RoomID = \u0026quot;21852\u0026quot; StreamerName = \u0026quot;old-tomato\u0026quot; # æ–‡ä»¶åç§°å°†ä¼šæ˜¯ \`[2022-04-24 02-02-32][old-tomato][Hi!]\` OutTmpl = \u0026quot;[{{ now | date \\\u0026quot;2006-01-02 15-04-05\\\u0026quot;}}][{{ .`,content:`è¯¦è§£ # æœ€å°é…ç½®é¡¹ # åªéœ€è¦å¡«å†™è¿™å‡ ä¸ªé…ç½®é¡¹ï¼Œå°±å¯ä»¥å¼€å§‹å¯¹ä¸€ä¸ªç›´æ’­é—´è¿›è¡Œå½•åˆ¶äº†ã€‚
[[Shows]] # å…¨å±€å”¯ä¸€å­—ç¬¦ä¸²ï¼Œå› ä¸ºé…ç½®ä¿®æ”¹ä¼šå®žæ—¶ç›‘æŽ§å®žæ—¶æ›´æ–°ï¼Œæ•…ä»¥æ­¤ ID ä½œä¸ºæ ‡è¯†è¿™ä¸€ä¸ªå½•åˆ¶çš„é…ç½®é¡¹ ID = 'a' # å¹³å°åç§° Platform = \u0026quot;bilibili\u0026quot; # æˆ¿é—´å· RoomID = \u0026quot;21852\u0026quot; # ä¸»æ’­åç§° StreamerName = \u0026quot;old-tomato\u0026quot; å®šåˆ¶æ–‡ä»¶åç§° # æ–°å¢žé…ç½®é¡¹ OutTmpl
æ—¥æœŸ: {{ now | date \\\u0026quot;2006-01-02 15-04-05\\\u0026quot;}}
ä¸»æ’­åç§°: {{ .StreamerName }}
ç›´æ’­æ ‡é¢˜: {{ .RoomName }}
ç›´æ’­å¹³å°: {{ .SiteName }}
[[Shows]] ID = 'a' Platform = \u0026quot;bilibili\u0026quot; RoomID = \u0026quot;21852\u0026quot; StreamerName = \u0026quot;old-tomato\u0026quot; # æ–‡ä»¶åç§°å°†ä¼šæ˜¯ \`[2022-04-24 02-02-32][old-tomato][Hi!]\` OutTmpl = \u0026quot;[{{ now | date \\\u0026quot;2006-01-02 15-04-05\\\u0026quot;}}][{{ .StreamerName }}][{{ .RoomName }}]\u0026quot; å®šåˆ¶æ–‡ä»¶ä¿å­˜ä½ç½® # æ–°å¢žé…ç½®é¡¹ SaveDir
æ–‡ä»¶åç§°ä¸­çš„tmplå˜é‡ï¼Œå¦‚ä¸»æ’­åç§°ã€ç›´æ’­å¹³å°ç­‰ä¹Ÿå¯ä»¥åœ¨è¿™é‡Œä½¿ç”¨
[[Shows]] Platform = \u0026quot;bilibili\u0026quot; RoomID = \u0026quot;21852\u0026quot; StreamerName = \u0026quot;old-tomato\u0026quot; SaveDir = \u0026quot;/Users/luxcgo/Videos\u0026quot; å®šåˆ¶æ–‡ä»¶ä¸‹è½½å™¨ # æ–°å¢žé…ç½®é¡¹ Parser
[[Shows]] Platform = \u0026quot;bilibili\u0026quot; RoomID = \u0026quot;21852\u0026quot; StreamerName = \u0026quot;old-tomato\u0026quot; # ä½¿ç”¨ \`ffmpeg\` ä½œä¸ºæ–‡ä»¶ä¸‹è½½å™¨ Parser = \u0026quot;ffmpeg\u0026quot; å‚è€ƒè¡¨
ä¸‹è½½å™¨ ç±»åž‹ å¹³å° streamlink ç¬¬ä¸‰æ–¹ YouTube/Twitch yt-dlp ç¬¬ä¸‰æ–¹ YouTube ffmpeg ç¬¬ä¸‰æ–¹ é™¤äº† YouTube/Twitch flv åŽŸç”Ÿ é™¤äº† YouTube/Twitch å¦‚æžœæ‚¨éœ€è¦ä½¿ç”¨è¿™äº›ç¬¬ä¸‰æ–¹ä¸‹è½½å™¨ï¼Œè¯·åŠ¡å¿…æ‰‹åŠ¨å°†å®ƒä»¬ä¸‹è½½åˆ°æ‚¨çš„æœ¬åœ°çŽ¯å¢ƒä¸­ã€‚
åŽŸç”Ÿä¸‹è½½å™¨å·²å†…ç½®åˆ° olive ï¼Œæ‚¨æ— éœ€ä¸‹è½½å°±å¯ç•…å¿«ä½¿ç”¨ã€‚
å½•åˆ¶ç»“æŸåŽæ‰§è¡Œå®šåˆ¶åŒ–å‘½ä»¤ # å¢žåŠ  Shows.PostCmds é…ç½®é¡¹ï¼Œåœ¨ä»»ä½•ä¸€ä¸ª Shows çš„ä¸‹é¢éƒ½å¯ä»¥è‡ªå®šä¹‰çš„é…ç½®å¤šä¸ªå‘½ä»¤ã€‚
åœ¨å½•åˆ¶ç»“æŸçš„æ—¶å€™ä¼šè‡ªåŠ¨ä¾æ¬¡æ‰§è¡Œï¼Œè‹¥ä¸­é€”æœ‰å‘½ä»¤æ‰§è¡Œå¤±è´¥ï¼Œåˆ™æå‰é€€å‡ºã€‚
olive å†…éƒ¨æä¾›äº†å‡ ä¸ªå·²ç»å®žçŽ°å¥½å¼€ç®±å³ç”¨çš„å‘½ä»¤ï¼ˆ åœ¨[[Shows]] çš„PostCmdsä¸­å¢žåŠ  Path é…ç½®é¡¹ ï¼‰
olivearchive: å°†æ–‡ä»¶ç§»åŠ¨åˆ°å½“å‰è·¯å¾„ä¸‹çš„ archive æ–‡ä»¶å¤¹ä¸­ã€‚ olivetrash: å°†æ–‡ä»¶åˆ é™¤ï¼ˆä¸å¯æ¢å¤ï¼‰ã€‚ olivebiliup: è‹¥æœ‰é…ç½® CookieFilepathã€BiliupEnableï¼Œåˆ™ä¼šæ ¹æ®é…ç½®è‡ªåŠ¨ä¸Šä¼ è‡³å“”å“©å“”å“©ï¼Œè‹¥ä¸Šä¼ å¤±è´¥ä¼šæ‰§è¡Œolivearchiveã€‚ oliveshell: å°†å¸¸è§„ç»ˆç«¯æŒ‡ä»¤åˆ‡åˆ†æˆå­—ç¬¦ä¸²æ•°ç»„ï¼Œå¹¶é…ç½®åˆ° Args ä¸­ã€‚ olive å†…ç½®äº†æ–‡ä»¶è·¯å¾„ä½œä¸ºçŽ¯å¢ƒå˜é‡ï¼Œå¹¶å¯ä»¥é€šè¿‡ \$FILE_PATH èŽ·å–ã€‚æ³¨æ„çŽ¯å¢ƒå˜é‡åªæœ‰åœ¨ shell çŽ¯å¢ƒä¸­æ‰ä¼šæ­£ç¡®è§£æžï¼Œå¦‚ /bin/zsh -c \u0026quot;echo \$FILE_PATH\u0026quot; ï¼Œåªæ‰§è¡Œ echo \$FILE_PATH åˆ™å¾ˆå¯èƒ½èŽ·å–ä¸åˆ°è·¯å¾„ä¿¡æ¯ã€‚ é…ç½®æ–‡ä»¶æ ·ä¾‹
[Config] # å¼€å¯ biliup BiliupEnable = true # cookies æ–‡ä»¶è·¯å¾„ # cookies æ–‡ä»¶ç”Ÿæˆå¯åœ¨å‘½ä»¤è¡Œæ‰§è¡Œ \`olive biliup login\` å‘½ä»¤ CookieFilepath = '/Users/lucas/github/olive/cookies.json' Threads = 6 # æ¯ç§’æœ€å¤šä¸Šä¼ å­—èŠ‚æ•°ï¼Œä»¥ä¸‹é…ç½®æ˜¯é™é€Ÿ 2MB/s MaxBytesPerSecond = 2097152 [[Shows]] ID = 'a' Enable = false Platform = 'bilibili' RoomID = '1319379' StreamerName = 'test1' OutTmpl = '[{{ .StreamerName }}][{{ .RoomName }}][{{ now | date \u0026quot;2006-01-02 15-04-05\u0026quot;}}].flv' Parser = 'flv' SaveDir = '' PostCmds = '[{\u0026quot;Path\u0026quot;:\u0026quot;oliveshell\u0026quot;,\u0026quot;Args\u0026quot;:[\u0026quot;/bin/zsh\u0026quot;,\u0026quot;-c\u0026quot;,\u0026quot;echo \$FILE_PATH\u0026quot;]},{\u0026quot;Path\u0026quot;:\u0026quot;olivebiliup\u0026quot;},{\u0026quot;Path\u0026quot;:\u0026quot;olivetrash\u0026quot;}]' æ¨¡æ‹Ÿæ‰§è¡Œé…ç½®æ–‡ä»¶
å½•åˆ¶ç»“æŸ æ‰§è¡Œè‡ªå®šä¹‰å‘½ä»¤/bin/sh -c \u0026quot;echo \$FILE_PATH\u0026quot; è‹¥ä¸Šæ¡å‘½ä»¤æ‰§è¡ŒæˆåŠŸï¼Œæ‰§è¡Œå†…ç½®å‘½ä»¤olivebiliup è‹¥ä¸Šæ¡å‘½ä»¤æ‰§è¡ŒæˆåŠŸï¼Œæ‰§è¡Œå†…ç½®å‘½ä»¤olivetrash åˆ‡åˆ†æ–‡ä»¶ # å½“ä»¥ä¸‹ä»»æ„ä¸€ä¸ªæ¡ä»¶æ»¡è¶³æ˜¯æ—¶ï¼Œ olive ä¼šæ–°åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ç”¨äºŽå½•åˆ¶ã€‚
æœ€å¤§è§†é¢‘æ—¶é•¿: Duration ä¸€ä¸ªæ—¶é—´æ®µå­—ç¬¦ä¸²æ˜¯ä¸€ä¸ªåºåˆ—ï¼Œæ¯ä¸ªç‰‡æ®µåŒ…å«å¯é€‰çš„æ­£è´Ÿå·ã€åè¿›åˆ¶æ•°ã€å¯é€‰çš„å°æ•°éƒ¨åˆ†å’Œå•ä½åŽç¼€ï¼Œå¦‚\u0026quot;300ms\u0026quot;ã€\u0026quot;-1.5h\u0026quot;ã€\u0026ldquo;2h45m\u0026rdquo;ã€‚ åˆæ³•çš„å•ä½æœ‰\u0026quot;ns\u0026quot;ã€\u0026ldquo;us\u0026rdquo; /\u0026ldquo;Âµs\u0026rdquo;ã€\u0026ldquo;ms\u0026rdquo;ã€\u0026ldquo;s\u0026rdquo;ã€\u0026ldquo;m\u0026rdquo;ã€\u0026ldquo;h\u0026rdquo;ã€‚ æœ€å¤§è§†é¢‘å¤§å°(å­—èŠ‚): Filesize [[Shows]] ID = 'a' Platform = 'bilibili' RoomID = '1319379' SplitRule = '{\u0026quot;FileSize\u0026quot;:2000000000,\u0026quot;Duration\u0026quot;:\u0026quot;1h\u0026quot;}' ç›´æ’­å¹³å° # åŽŸç”Ÿ # Platform bilibili douyin huya kuaishou lang tiktok twitch youtube olive ä¾èµ– olivetv æ¥æ”¯æŒä¸Šè¿°ç½‘ç«™çš„ç›´æ’­å½•åˆ¶ã€‚
å¦‚æžœæ‚¨çš„ä¸åœ¨ä¸Šè¿°åˆ—è¡¨ä¸­ï¼Œæ¬¢è¿Žåœ¨ discussion ä¸­ç•™ä¸‹è¯„è®ºæˆ–æäº¤ pr ã€‚
streamlink # æ›´å¤šçš„ä¸€äº›ç½‘ç«™è¢« streamlink æ”¯æŒï¼Œæ‰€ä»¥å°±æ²¡æœ‰å¿…è¦é‡æ–°é€ è½®å­äº†ã€‚streamlink å¯ä»¥ä½œä¸ºä¸€ä¸ªæ’ä»¶åœ¨ olive ä¸­ä½¿ç”¨ ã€‚åªè¦ç½‘ç«™åœ¨ streamlink ä¸­è¢«æ”¯æŒï¼Œä½ ä¹Ÿå¯ä»¥åœ¨ olive ä¸­ä½¿ç”¨å®ƒã€‚
ä¾‹å­å¦‚ä¸‹ï¼š
[[Shows]] Platform = \u0026quot;streamlink\u0026quot; RoomID = \u0026quot;https://twitcasting.tv/c:aiueo033000\u0026quot; StreamerName = \u0026quot;c:aiueo033000\u0026quot; OutTmpl = \u0026quot;[{{ .StreamerName }}][{{ now | date \\\u0026quot;2006-01-02 15-04-05\\\u0026quot;}}]\u0026quot; [[Shows]] Platform = \u0026quot;streamlink\u0026quot; RoomID = \u0026quot;https://live.nicovideo.jp/watch/lv337855989\u0026quot; StreamerName = \u0026quot;ãƒ©ãƒ ãƒŸ\u0026quot; OutTmpl = \u0026quot;[{{ .StreamerName }}][{{ now | date \\\u0026quot;2006-01-02 15-04-05\\\u0026quot;}}]\u0026quot; [[Shows]] Platform = \u0026quot;streamlink\u0026quot; RoomID = \u0026quot;https://play.afreecatv.com/030b1004/241795118\u0026quot; StreamerName = \u0026quot;ë©ì´ï¿¼\u0026quot; OutTmpl = \u0026quot;[{{ .StreamerName }}][{{ now | date \\\u0026quot;2006-01-02 15-04-05\\\u0026quot;}}]\u0026quot; Config.toml # ä¸€ä¸ªåŒ…å«æ‰€æœ‰ç‰¹æ€§çš„é…ç½®æ–‡ä»¶ã€‚
[Config] PortalUsername = 'olive' PortalPassword = 'olive' # æ—¥å¿—è¾“å‡ºç›®å½• LogDir = '/Users/luxcgo/olive' # å…¨å±€ OutTmpl OutTmpl = \u0026quot;[{{ now | date \\\u0026quot;2006-01-02 15-04-05\\\u0026quot;}}][{{ .RoomName }}]\u0026quot; # å…¨å±€ SaveDirï¼Œç»å¯¹è·¯å¾„ SaveDir = \u0026quot;/Users/luxcgo/olive/{{ .SiteName }}/{{ .StreamerName }}/\u0026quot; # æ—¥å¿—ç­‰çº§ (0~6), è¶Šå¤§æ—¥å¿—è¾“å‡ºè¶Šå¤š LogLevel = 5 # ç›´æ’­é—´çŠ¶æ€æŸ¥è¯¢é—´éš”æ—¶é—´ï¼ˆç§’ï¼‰ SnapRestSeconds = 15 # æ–‡ä»¶æ˜¯å¦æ»¡è¶³åˆ‡å‰²æ¡ä»¶æ£€æµ‹é—´éš”æ—¶é—´ï¼ˆç§’ï¼‰ SplitRestSeconds = 60 # ç›´æ’­é—´å½•æ’­ç»“æŸåŽæ‰§è¡Œå‘½ä»¤çš„å¹¶å‘æ‰§è¡Œçš„ä¸ªæ•° CommanderPoolSize = 1 # è§£æžå™¨å·¥ä½œçŠ¶æ€æ£€æŸ¥é—´éš”æ—¶é—´ï¼ˆç§’ï¼‰ ParserMonitorRestSeconds = 10 # éƒ¨åˆ†ç½‘ç«™éœ€è¦é…ç½® cookie DouyinCookie = \u0026quot;__ac_nonce=06245c89100e7ab2dd536; __ac_signature=_02B4Z6wo00f01LjBMSAAAIDBwA.aJ.c4z1C44TWAAEx696;\u0026quot; KuaishouCookie = \u0026quot;did=web_d86297aa2f579589b8abc2594b0ea985\u0026quot; # biliup é…ç½®é¡¹ BiliupEnable = false CookieFilepath = '/Users/lucas/github/olive/cookies.json' Threads = 6 MaxBytesPerSecond = 2097152 [[Shows]] # å…¨å±€å”¯ä¸€å­—ç¬¦ä¸²ï¼Œå› ä¸ºé…ç½®ä¿®æ”¹ä¼šå®žæ—¶ç›‘æŽ§å®žæ—¶æ›´æ–°ï¼Œæ•…ä»¥æ­¤ ID ä½œä¸ºæ ‡è¯†è¿™ä¸€ä¸ªå½•åˆ¶çš„é…ç½®é¡¹ ID = 'a' # å¹³å°åç§° Platform = \u0026quot;huya\u0026quot; # æˆ¿é—´å· RoomID = \u0026quot;518512\u0026quot; [[Shows]] ID = 'b' Enable = false Platform = 'bilibili' RoomID = '1319379' StreamerName = 'test1' OutTmpl = '[{{ .StreamerName }}][{{ .RoomName }}][{{ now | date \u0026quot;2006-01-02 15-04-05\u0026quot;}}].flv' Parser = 'flv' SaveDir = '' PostCmds = '[{\u0026quot;Path\u0026quot;:\u0026quot;oliveshell\u0026quot;,\u0026quot;Args\u0026quot;:[\u0026quot;/bin/zsh\u0026quot;,\u0026quot;-c\u0026quot;,\u0026quot;echo \$FILE_PATH\u0026quot;]},{\u0026quot;Path\u0026quot;:\u0026quot;olivebiliup\u0026quot;},{\u0026quot;Path\u0026quot;:\u0026quot;olivetrash\u0026quot;}]' SplitRule = '{\u0026quot;FileSize\u0026quot;:2000000000,\u0026quot;Duration\u0026quot;:\u0026quot;1h\u0026quot;}' `}),e.add({id:4,href:"/docs/guide/",title:"ä½¿ç”¨æŒ‡å—",description:"ç”¨æˆ·ä½¿ç”¨æŒ‡å—",content:""}),e.add({id:5,href:"/docs/guide/history/",title:"æ›´æ–°åŽ†å²",description:`0.5.0 # æ­¤ç‰ˆæœ¬å‘½ä»¤å’Œé…ç½®æ–‡ä»¶æœ‰ä¸å…¼å®¹æ›´æ–°
æ”¯æŒ docker, k8s éƒ¨ç½² å†…ç½® golang åŽŸç”Ÿ biliup æ¨¡å— æ”¯æŒ web ç«¯éƒ¨ç½² é…ç½®æ–‡ä»¶æ”¹åŠ¨å®žæ—¶ç›‘æŽ§ olivetv ä»“åº“åˆå¹¶åˆ° olive ä»“åº“ docker ç‰ˆæœ¬å†…ç½® streamlink zsh yt-dlp æ— éœ€å†—ä½™å®‰è£… 0.3.3 # æ­¤ç‰ˆæœ¬ä¾ç„¶åšæŒºï¼Œå¯ä»¥æ­£å¸¸ä½¿ç”¨`,content:`0.5.0 # æ­¤ç‰ˆæœ¬å‘½ä»¤å’Œé…ç½®æ–‡ä»¶æœ‰ä¸å…¼å®¹æ›´æ–°
æ”¯æŒ docker, k8s éƒ¨ç½² å†…ç½® golang åŽŸç”Ÿ biliup æ¨¡å— æ”¯æŒ web ç«¯éƒ¨ç½² é…ç½®æ–‡ä»¶æ”¹åŠ¨å®žæ—¶ç›‘æŽ§ olivetv ä»“åº“åˆå¹¶åˆ° olive ä»“åº“ docker ç‰ˆæœ¬å†…ç½® streamlink zsh yt-dlp æ— éœ€å†—ä½™å®‰è£… 0.3.3 # æ­¤ç‰ˆæœ¬ä¾ç„¶åšæŒºï¼Œå¯ä»¥æ­£å¸¸ä½¿ç”¨
`}),e.add({id:6,href:"/docs/",title:"Docs",description:"Docs Doks.",content:""}),search.addEventListener("input",t,!0);function t(){const s=5;var n=this.value,o=e.search(n,{limit:s,enrich:!0});const t=new Map;for(const e of o.flatMap(e=>e.result)){if(t.has(e.doc.href))continue;t.set(e.doc.href,e.doc)}if(suggestions.innerHTML="",suggestions.classList.remove("d-none"),t.size===0&&n){const e=document.createElement("div");e.innerHTML=`No results for "<strong>${n}</strong>"`,e.classList.add("suggestion__no-results"),suggestions.appendChild(e);return}for(const[r,a]of t){const n=document.createElement("div");suggestions.appendChild(n);const e=document.createElement("a");e.href=r,n.appendChild(e);const o=document.createElement("span");o.textContent=a.title,o.classList.add("suggestion__title"),e.appendChild(o);const i=document.createElement("span");if(i.textContent=a.description,i.classList.add("suggestion__description"),e.appendChild(i),suggestions.appendChild(n),suggestions.childElementCount==s)break}}})()